<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kuis Drag and Drop</title>
  <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
  <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  
  <style>
        #jawaban1, #jawaban2, #jawaban3 { width: 150px; height: 150px; padding: 0.5em; float: left; margin: 10px; }
        #pertanyaan1, #pertanyaan2, #pertanyaan3 { width: 100px; height: 100px; padding: 0.5em; float: left; margin: 10px 10px 10px 0; }
        .pertanyaan {padding:2px; height: 100px; width: 100px; background-color: white; margin:0 auto;}
        .isi-pertanyaan {height: 60px; width: 80px; background-color: white; color: black;}
  </style>
</head>
<body>
<table>
    <tr>
        <td>
            <div id="jawaban1" class="ui-widget-header">
                <p>Dipetik</p>
            </div>
        </td>
        <td>
            <div id="jawaban2" class="ui-widget-header">
                <p>Dipukul</p>
            </div>
        </td>
        <td>
            <div id="jawaban3" class="ui-widget-header">
                <p>Ditiup</p>
            </div>
        </td>
    </tr>
    <tr>
        <td colspan="3">
            <div id="pertanyaan" class="pertanyaan">
                <div id="isi-pertanyaan1" class="isi-pertanyaan draggable">
                    Pertanyaan1
                </div>
                <div id="isi-pertanyaan2" class="isi-pertanyaan draggable" style="display: none;">
                    Pertanyaan2
                </div>
                <div id="isi-pertanyaan3" class="isi-pertanyaan draggable" style="display: none;">
                    Pertanyaan3
                </div>
            </div>
        </td>
    </tr>
</table>
<!--  
<div id="pertanyaan1" class="draggable ui-widget-content">
    <p>Pertanyaan 1</p>
</div>
<div id="pertanyaan2" class="draggable ui-widget-content">
    <p>Pertanyaan 2</p>
</div>
<div id="pertanyaan3" class="draggable ui-widget-content">
    <p>Pertanyaan 3</p>
</div>

<div class="teskonten" style="margin-top: 160px;">
    <ul id="testdata"></ul>
</div>
-->

</body>
<script>
    //Skrip ini untuk percobaan bahwa setiap pertanyaan hanya bisa didrag ke kotak jawaban yang sesuai
    /*$("#pertanyaan1, #pertanyaan2, #pertanyaan3, .isi-pertanyaan").draggable({ revert: 'invalid' });

    $("#pertanyaan1").mousedown(function () {
        $("#jawaban1").droppable({
            accept: '#pertanyaan1',
            activeClass: 'ui-state-hover',
        });
    });

    $("#pertanyaan2").mousedown(function () {
        $("#jawaban2").droppable({
            accept: '#pertanyaan2',
            activeClass: 'ui-state-hover',
        });
    });

    $("#pertanyaan3").mousedown(function () {
        $("#jawaban3").droppable({
            accept: '#pertanyaan3',
            activeClass: 'ui-state-hover',
        });
    });*/

    $(".isi-pertanyaan").draggable({ revert: 'invalid' });

    $(".isi-pertanyaan").mousedown(function () {
        $("#jawaban1").droppable({
            accept: '#isi-pertanyaan1',
            activeClass: 'ui-state-hover',
        });

        $("#jawaban2").droppable({
            accept: '#isi-pertanyaan2',
            activeClass: 'ui-state-hover',
        });

        $("#jawaban3").droppable({
            accept: '#isi-pertanyaan3',
            activeClass: 'ui-state-hover',
        });
    });
</script>

<script>
    //Script ini untuk mengambil nested item file json
    $.ajax({
        type: "GET",
        dataType: "JSON",
        url: "data.json",
        success: processJSON
    });
    //Setiap komponen data yang berbeda array diulangi kembali mulai dari 0
    function processJSON(data) {
        $.each(data, function (i, item) {
            $("<li></li>").html('<strong>Pertanyaan:</strong> ' + item.data[0].rightanswerdata['rightanswer'][1]['answer'] + '<strong> Jawaban </strong>: ' + item.data[0].questiondata['question']).appendTo('#testdata');
        });
    }
</script>

<script>
    $("#pertanyaan").hide();

    $(function() {
        $("#pertanyaan").delay(800).fadeIn(2000);
        $(".isi-pertanyaan").mouseup(function(){
            //$(".isi-pertanyaan").append( "<h2>New heading</h2>" );
            //$("#pertanyaan").append("<div id='isi-pertanyaan2' class='isi-pertanyaan draggable'>dua</div>").fadeIn(3000);
            $("#isi-pertanyaan2").fadeIn(2000).show();
        });
        $("#isi-pertanyaan2").mouseup(function(){
            //$(".isi-pertanyaan").append( "<h2>New heading</h2>" );
            //$("#pertanyaan").append("<div id='isi-pertanyaan2' class='isi-pertanyaan draggable'>dua</div>").fadeIn(3000);
            $("#isi-pertanyaan3").fadeIn(2000).show();
        });
    });
</script>

</html>